# Edit next two values:
# Folder name
export APP=de10-nano
# Name of the c file (don't forget to edit the MAKEFILE)
export MAIN=hello_MS5611

export REPOS=~/PREDICT/c_apps
export ADDRESS=~/t-crest/patmos

# Let everything else run:
white=`tput setab 7`
green=`tput setaf 2`
reset=`tput sgr0`
echo "${green}======== Generating C app in Patmos directory... ========${reset}"
echo "APP = "$APP
rm -rf $ADDRESS/c/apps/$APP
rm -rf $ADDRESS/tmp/$APP.elf
mkdir $ADDRESS/c/apps/$APP
cd $REPOS
cp $APP/* $ADDRESS/c/apps/$APP
echo "Copy process done."
echo "${green}======== Compiling C app in Patmos ========${reset}"
cd $ADDRESS/c/apps/$APP
make
cd $ADDRESS
export BOARD=de10-nano
make app APP=$APP comp
echo "${green}======== Download code on board ========${reset}"
make app APP=$APP download || make app APP=$APP download COM_PORT=/dev/ttyUSB1 || make app APP=$APP download COM_PORT=/dev/ttyUSB2 || make app APP=$APP download COM_PORT=/dev/ttyUSB3 || make app APP=$APP download COM_PORT=/dev/ttyUSB4 || make app APP=$APP download COM_PORT=/dev/ttyUSB5 || make app APP=$APP download COM_PORT=/dev/ttyUSB6 || make app APP=$APP download COM_PORT=/dev/ttyUSB7 || make app APP=$APP download COM_PORT=/dev/ttyUSB8
#make app APP=$APP download

